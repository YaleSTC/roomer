<%= render partial: 'groups/group_details' %>
<% if policy(DrawlessGroup.new(@group)).select_suite? %>
  <h2><%= suite_str(@group) %></h2>
  <% if @group.suite %>
    <%= simple_form_for @group, url: select_suite_group_path(@group), method: :patch do |f| %>
      <%= f.input :suite, as: :hidden, input_html: { value: '' } %>
      <%= f.submit 'Remove suite' %>
    <% end %>
  <% else %>
    <%= simple_form_for @group, url: select_suite_group_path(@group), method: :patch do |f| %>
      <%= f.input :suite, collection: suite_collection(@group), label_method: :number, selected: @group.suite.try(:id) %>
      <%= f.submit 'Assign suite' %>
    <% end %>
  <% end %>
<% end %>
<p>
  <%= link_to 'Edit', edit_group_path(@group), class: 'button secondary' if policy(@group).edit? %>
  <%= link_to 'Lock Group', lock_group_path(@group), method: :put, class: 'button alert' if policy(@group).lock? %>
  <%= link_to('Disband', group_path(@group), method: :delete, class: 'button alert') if policy(@group).destroy? %>
</p>
