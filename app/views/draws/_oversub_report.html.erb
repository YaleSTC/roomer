<h3>Draw Summary</h3>
<div>
  <%= link_to 'Handle oversubscription', oversub_draw_path(draw), class: 'button' if draw.oversubscribed? && policy(draw).oversubscription? %>
  <% if policy(draw).lock_all_sizes? && !draw.open_suite_sizes.empty? %>
    <%= link_to 'Lock all sizes', lock_all_sizes_draw_path(draw, redirect_path: path), method: :patch, class: 'button' %>
  <% end %>
</div>
<table>
  <thead>
    <tr>
      <td>Suite Size</td>
      <td>Suites</td>
      <td>Groups</td>
      <td>Locked Groups</td>
      <td>Leftover Suites</td>
      <% if policy(draw).toggle_size_lock? %>
        <td></td>
      <% end %>
  </thead>
  <tbody>
    <% @sizes.each do |size| %>
      <tr class="<%= diff_class(@diff[size])%>">
        <td data-role="suite-size"><%= size_str(size).capitalize.pluralize %></td>
        <td data-role="suite-count"><%= @suite_counts[size] %></td>
        <td data-role="group-count"><%= @group_counts[size] %></td>
        <td data-role="locked-count"><%= @locked_counts[size] %></td>
        <td data-role="oversubscription"><%= @diff[size] %></td>
        <% if policy(draw).toggle_size_lock? %>
          <td class="actions"><%= toggle_size_lock_btn(draw: draw, size: size, path: path) %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
